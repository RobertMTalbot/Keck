{
    "collab_server" : "",
    "contents" : "---\ntitle: \"GCA Analysis Notebook\"\nauthor: \"Bud Talbot, Derek Briggs\"\noutput:\n  html_notebook: default\n  html_document: default\n  pdf_document: default\n---\n\n##Load data\nLoad the new complete data set, name it All.data\n```{r}\nlibrary(readr)\nAll.data <- read_csv(\"C:/Users/talbotr/Desktop/Keck/All_data.csv\", na = \"NA\")\n```\n\n##Filter and calculate class level descriptives\nNow filter (using dplyr) All.data for cl = 1, then find pre and post GCA mean, SD, %NA (using psych describe). Then calculate gains two ways: once with na.rm = TRUE and once with na.rm =  FALSE, and calculate Effect Size. FOR ES FIND AND USE OVERALL GCA POST (?) SD\n\n```{r}\nlibrary(dplyr)\nlibrary(psych)\ncl1 <- filter(All.data, cl==1)\ncl1.descr <- describe(cl1[114:115])\ncl1_g1 <- (mean(cl1$Post.total, na.rm = TRUE) - mean(cl1$Pre.total, na.rm = TRUE))/(25-mean(cl1$Pre.total, na.rm = TRUE))\ncl1_g2 <- (mean(cl1$Post.total, na.rm = FALSE) - mean(cl1$Pre.total, na.rm = FALSE))/(25-mean(cl1$Pre.total, na.rm = FALSE))\ncl1.ES <- (mean(cl1$Post.total, na.rm = TRUE) - mean(cl1$Pre.total, na.rm = TRUE))/(sd(cl1$Pre.total))\nprint(cl1.descr)\nprint(cl1_g1)\nprint(cl1_g2)\nprint(cl1.ES)\n```\n\n\n#Item statistics on each of the GCA pre and post items for this class.\n```{r}\nalpha(cl1[64:113], na.rm = TRUE)\n```\n\n\n##Plot histogram of pre and post GCA for class 1\nPlot a histogram of class 1 pre and post GCA scores\n```{r}\nlibrary(ggplot2)\nlibrary(RColorBrewer)\ndf <-  data.frame(x = cl1$Pre.total, x2 = cl1$Post.total)\n\ng <-  ggplot(df, aes(x)) + geom_histogram(aes(x = x, y = ..count..),\n                  binwidth = 1, color=\"black\", fill=\"blue\", alpha=0.5) + \n  geom_histogram( aes(x = x2, y = ..count..), \n                  binwidth = 1, color=\"black\", fill= \"green\", alpha=0.5) +\n  scale_x_continuous(name = \"GCA Pre/Post Score\", \n                     limits=c(0, 25)) +\n  scale_y_continuous(name = \"Count\") +\n  ggtitle(\"Class 1 GCA Pre and Post Scores\")\nprint(g)\n```\n\nDerek: I need to make the above code iterate over all classes, or just increment and loop it over and over. Then write each resulting object (e.g. cl1.descr, cl1_g1, etc) to a new table. Thoughts on how to code that nicely? I could just kludge it by copying the code over and over and editing, but that seems sloppy.\n\n##Class 11 (yr 2 Fa) GCA descriptives:\n\n```{r}\nlibrary(dplyr)\nlibrary(psych)\ncl11 <- filter(All.data, cl==11)\ncl11.descr <- describe(cl11[114:115])\ncl11_g1 <- (mean(cl11$Post.total, na.rm = TRUE) - mean(cl11$Pre.total, na.rm = TRUE))/(25-mean(cl11$Pre.total, na.rm = TRUE))\ncl11_g2 <- (mean(cl11$Post.total, na.rm = FALSE) - mean(cl11$Pre.total, na.rm = FALSE))/(25-mean(cl11$Pre.total, na.rm = FALSE))\ncl11.ES <- (mean(cl11$Post.total, na.rm = TRUE) - mean(cl11$Pre.total, na.rm = TRUE))/(sd(cl11$Pre.total))\nprint(cl11.descr)\nprint(cl11_g1)\nprint(cl11_g2)\nprint(cl11.ES)\n```\n\n#Class 11 GCA item stats\n```{r}\nlibrary(psych)\nalpha(cl11[64:113])\n```\n\n#Class 11 histogram\n```{r}\nlibrary(ggplot2)\nlibrary(RColorBrewer)\ndf <-  data.frame(x = cl11$Pre.total, x2 = cl11$Post.total)\n\ng <-  ggplot(df, aes(x)) + geom_histogram(aes(x = x, y = ..count..),\n                  binwidth = 1, color=\"black\", fill=\"blue\", alpha=0.5) + \n  geom_histogram( aes(x = x2, y = ..count..), \n                  binwidth = 1, color=\"black\", fill= \"green\", alpha=0.5) +\n  scale_x_continuous(name = \"GCA Pre/Post Score\", \n                     limits=c(0, 25)) +\n  scale_y_continuous(name = \"Count\") +\n  ggtitle(\"Class 11 GCA Pre and Post Scores\")\nprint(g)\n```\n\n#Class 11 local items\nlocal item descriptives: MC\n```{r}\nalpha(cl11[352:357])\n```\n\n\nlocal item descriptives: SA\n```{r}\nalpha(cl11[370:393])\n```\n\n\n##Local item <g> \nNow calculate pre and post totals for the local items (MC+SA) for each class. Note that this will not be for Fa15 or Sp16, only Fa16 and Sp17. So only classes 11, 12, 13, 14, 15, (there is no class 16), 17, 18, 19, 20.\n\ncall these vars local.pre.tot and local.post.tot\n\n##Now calculate class level <g> and ES for local item sets. Use local item post SD in each case for ES calc.\n```{r}\nlibrary(dplyr)\nlibrary(psych)\ncl11 <- filter(All.data, cl==11)\ncl11.local.mc <- describe(cl11[352:357])\ncl11.local.sa <- describe(cl11[370:393])\ncl11.local.all <- describe(cl11[352:393])\ncl11.localg1 <- (mean(cl11$local.post.tot, na.rm = TRUE) - mean(cl11$local.pre.tot, na.rm = TRUE))/(??-mean(cl11$local.pre.tot, na.rm = TRUE))\ncl11.localg2 <- (mean(cl11$local.post.tot, na.rm = FALSE) - mean(cl11$local.pre.tot, na.rm = FALSE))/(??-mean(cl11$local.pre.tot, na.rm = FALSE))\ncl11.localES <- (mean(cl11$local.port.tot, na.rm = TRUE) - mean(cl11$local.pre.tot, na.rm = TRUE))/(sd(cl11$local.post.tot))\nprint(cl11.local.mc)\nprint(cl11.local.sa)\nprint(cl11.local.all)\nprint(cl11.localg1)\nprint(cl11.localg2)\nprint(cl11.localES)\n```\n\n\n\n##GCA and local gain scores by learning goals\nThen we need to code new vars for GCA and local items grouped by learning goal, and find gains for these item groupings.\n\n\n\n",
    "created" : 1491520299592.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1106093628",
    "id" : "A3A2925D",
    "lastKnownWriteTime" : 1496874590,
    "last_content_update" : 1496874590938,
    "path" : "C:/Users/talbotr/Desktop/Keck/GCA_notebook.Rmd",
    "project_path" : "GCA_notebook.Rmd",
    "properties" : {
        "chunk_output_type" : "inline",
        "docOutlineVisible" : "0",
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}