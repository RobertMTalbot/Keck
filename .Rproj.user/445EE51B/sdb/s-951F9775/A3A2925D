{
    "collab_server" : "",
    "contents" : "---\ntitle: \"GCA Analysis Notebook\"\noutput: html_notebook\n---\nLoad data from GCA_ALL_DATA_fa15_sp16_fa16_03302017, name the new data frame FSF_alldata (FSF = \"Fall Spring Fall\"\")\n```{r}\nlibrary(readr)\nFSF_alldata <- read_csv(\"C:/Users/talbotr/Desktop/Keck_R/FSF_alldata.csv\")\n```\n\nThis code subsets GCA pre and post responses from FSF all data- including cl, Sex and ethnicity codes\n```{r}\nGCA_prepost <- subset(FSF_alldata, select=c(StudentID, Semester, cl, Pre1:Post25, Sex:Demo4White5))\n```\n\n\nUse lapply to find means of all GCA pre and post item responses and write to new list. This code is not implemented yet\n```{r}\nGCA_item_Means <- lapply(3:52, mean)\n```\n\n\nThis code calculates GCA pre and post total scores for each case adds the new vars to  FSF_alldata\n```{r}\nPre_tot <- rowSums(GCA_prepost[4:28], na.rm = TRUE)\nPost_tot <- rowSums(GCA_prepost[29:53], na.rm = TRUE)\nGCA_prepost$Pre_tot <- Pre_tot\nGCA_prepost$Post_tot <- Post_tot\n```\n\n\nThis code calculates raw gain and <g> for each case and appends the new vars to FSF_alldata\n```{r}\nraw_gain <- (GCA_prepost[62] - GCA_prepost[61])\nnorm_gain <- raw_gain/(25 - GCA_prepost[61]) \nGCA_prepost$gain <- raw_gain\nGCA_prepost$norm_gain <- norm_gain\n```\n\nNow filter (load dplyr) FSF_alldata for cl = 1 and Semester = Fa2015 from GCA_prepost, then calculate ES and g for this class (class 1 from Fall 2015)\n```{r}\nlibrary(dplyr)\ncl1f15 <- filter(GCA_prepost, Semester==\"Fa2015\", cl==1)\ncl1f15_ES <- (mean(cl1f15$Post_tot, na.rm = TRUE) - mean(cl1f15$Pre_tot, na.rm = TRUE))/sd(cl1f15$Pre_tot, na.rm = TRUE)\ncl1f15_g <- (mean(cl1f15$Post_tot, na.rm = TRUE) - mean(cl1f15$Pre_tot, na.rm = TRUE))/(25-mean(cl1f15$Pre_tot, na.rm = TRUE))\ncl1f15gains <- c(cl1f15_ES, cl1f15_g)\n```\n\nPlot a histogram (using ggplot) of class 1 Fall 2015 pre and post GCA scores\n```{r}\nlibrary(ggplot2)\nlibrary(RColorBrewer)\ndf <-  data.frame(x = cl1f15$Pre_tot, x2 = cl1f15$Post_tot)\n\ng <-  ggplot(df, aes(x)) + geom_histogram(aes(x = x, y = ..count..),\n                                         binwidth = 1, fill=\"blue\") + \n  geom_histogram( aes(x = x2, y = -..count..), binwidth = 1, fill= \"green\") +\n  scale_x_continuous(name = \"GCA Pre/Post Score\", \n                     limits=c(0, 25)) +\n  scale_y_continuous(name = \"Count\") +\n  ggtitle(\"Class 1 Fall 2015 GCA Pre and Post Scores\")\nprint(g)\n```\n\n\nI need to make the above code a function and then use lapply to iterate over classes and Semesters, or jusyt loop it over and over. Thoughts omn how to code that nicely?\n\nNext we need to calculate pre and post totals and gains (<g>, ES) for the local items for each class\n\nNow we need to code new vars for GCA and local scores by learning goal, and find gains for these item groupings\n\n",
    "created" : 1491520299592.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "16021260",
    "id" : "A3A2925D",
    "lastKnownWriteTime" : 1491532736,
    "last_content_update" : 1491532736400,
    "path" : "C:/Users/talbotr/Desktop/Keck/GCA_notebook.Rmd",
    "project_path" : "GCA_notebook.Rmd",
    "properties" : {
        "chunk_output_type" : "inline",
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}